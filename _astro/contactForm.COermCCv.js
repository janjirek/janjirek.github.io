import{j as t}from"./jsx-runtime.D_zvdyIk.js";import{r as d}from"./index.CuUsarvU.js";import M from"./terms-dialog.BARkzTDY.js";import{S as q,T as z,P as O}from"./utils.ogF-CGWh.js";import"./_commonjsHelpers.CqkleIqs.js";import"./index.DVSEtVSJ.js";import"./index.CZzy42EI.js";class x{constructor(s=0,r="Network Error"){this.status=s,this.text=r}}const B=()=>{if(!(typeof localStorage>"u"))return{get:e=>Promise.resolve(localStorage.getItem(e)),set:(e,s)=>Promise.resolve(localStorage.setItem(e,s)),remove:e=>Promise.resolve(localStorage.removeItem(e))}},o={origin:"https://api.emailjs.com",blockHeadless:!1,storageProvider:B()},v=e=>e?typeof e=="string"?{publicKey:e}:e.toString()==="[object Object]"?e:{}:{},D=(e,s="https://api.emailjs.com")=>{if(!e)return;const r=v(e);o.publicKey=r.publicKey,o.blockHeadless=r.blockHeadless,o.storageProvider=r.storageProvider,o.blockList=r.blockList,o.limitRate=r.limitRate,o.origin=r.origin||s},w=async(e,s,r={})=>{const i=await fetch(o.origin+e,{method:"POST",headers:r,body:s}),a=await i.text(),l=new x(i.status,a);if(i.ok)return l;throw l},k=(e,s,r)=>{if(!e||typeof e!="string")throw"The public key is required. Visit https://dashboard.emailjs.com/admin/account";if(!s||typeof s!="string")throw"The service ID is required. Visit https://dashboard.emailjs.com/admin";if(!r||typeof r!="string")throw"The template ID is required. Visit https://dashboard.emailjs.com/admin/templates"},K=e=>{if(e&&e.toString()!=="[object Object]")throw"The template params have to be the object. Visit https://www.emailjs.com/docs/sdk/send/"},N=e=>e.webdriver||!e.languages||e.languages.length===0,S=()=>new x(451,"Unavailable For Headless Browser"),I=(e,s)=>{if(!Array.isArray(e))throw"The BlockList list has to be an array";if(typeof s!="string")throw"The BlockList watchVariable has to be a string"},A=e=>!e.list?.length||!e.watchVariable,J=(e,s)=>e instanceof FormData?e.get(s):e[s],L=(e,s)=>{if(A(e))return!1;I(e.list,e.watchVariable);const r=J(s,e.watchVariable);return typeof r!="string"?!1:e.list.includes(r)},P=()=>new x(403,"Forbidden"),Z=(e,s)=>{if(typeof e!="number"||e<0)throw"The LimitRate throttle has to be a positive number";if(s&&typeof s!="string")throw"The LimitRate ID has to be a non-empty string"},U=async(e,s,r)=>{const i=Number(await r.get(e)||0);return s-Date.now()+i},T=async(e,s,r)=>{if(!s.throttle||!r)return!1;Z(s.throttle,s.id);const i=s.id||e;return await U(i,s.throttle,r)>0?!0:(await r.set(i,Date.now().toString()),!1)},R=()=>new x(429,"Too Many Requests"),W=async(e,s,r,i)=>{const a=v(i),l=a.publicKey||o.publicKey,m=a.blockHeadless||o.blockHeadless,h=a.storageProvider||o.storageProvider,b={...o.blockList,...a.blockList},p={...o.limitRate,...a.limitRate};return m&&N(navigator)?Promise.reject(S()):(k(l,e,s),K(r),r&&L(b,r)?Promise.reject(P()):await T(location.pathname,p,h)?Promise.reject(R()):w("/api/v1.0/email/send",JSON.stringify({lib_version:"4.4.1",user_id:l,service_id:e,template_id:s,template_params:r}),{"Content-type":"application/json"}))},Y=e=>{if(!e||e.nodeName!=="FORM")throw"The 3rd parameter is expected to be the HTML form element or the style selector of the form"},$=e=>typeof e=="string"?document.querySelector(e):e,G=async(e,s,r,i)=>{const a=v(i),l=a.publicKey||o.publicKey,m=a.blockHeadless||o.blockHeadless,h=o.storageProvider||a.storageProvider,b={...o.blockList,...a.blockList},p={...o.limitRate,...a.limitRate};if(m&&N(navigator))return Promise.reject(S());const u=$(r);k(l,e,s),Y(u);const c=new FormData(u);return L(b,c)?Promise.reject(P()):await T(location.pathname,p,h)?Promise.reject(R()):(c.append("lib_version","4.4.1"),c.append("service_id",e),c.append("template_id",s),c.append("user_id",l),w("/api/v1.0/email/send-form",c))},Q={init:D,send:W,sendForm:G,EmailJSResponseStatus:x};function ie({termsTitle:e,children:s}){const[r,i]=d.useState(""),[a,l]=d.useState(""),[m,h]=d.useState(""),[b,p]=d.useState(""),[u,c]=d.useState(""),[E,F]=d.useState(!1),[H,f]=d.useState(!1),[j,g]=d.useState(!1),V=n=>{n.preventDefault();var _={firstname:r,surname:a,email:m,phone:b,message:u};g(!0),Q.send(q,z,_,O).then(function(y){y.status===200?(F(!0),i(""),l(""),h(""),p(""),c("")):(f(!0),setTimeout(()=>{f(!1)},1e4)),g(!1)},function(y){f(!0),setTimeout(()=>{f(!1)},1e4),g(!1)})},C=()=>!(r===""||a===""||u===""||!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(m));return t.jsx("div",{"data-aos":"fade-up",children:t.jsx("form",{className:"mb-12",onSubmit:V,children:t.jsxs("div",{className:"-my-6 divide-y divide-gray-100",children:[t.jsxs("div",{className:"py-6",children:[t.jsxs("div",{className:"mb-5 text-lg font-bold text-gray-900",children:[t.jsx("span",{className:"text-blue-600",children:"1."})," Uveďte své kontaktní údaje"]}),t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[t.jsxs("div",{children:[t.jsxs("label",{className:"mb-1 block text-sm font-medium text-gray-700",htmlFor:"name",children:["Jméno ",t.jsx("span",{className:"text-red-500",children:"*"})]}),t.jsx("input",{value:r,onChange:n=>i(n.target.value),id:"name",className:"w-full px-4 py-3 rounded-xl border border-slate-200 bg-slate-50 focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none transition-all",type:"text",required:!0,placeholder:"Jan"})]}),t.jsxs("div",{children:[t.jsxs("label",{className:"mb-1 block text-sm font-medium text-gray-700",htmlFor:"surname",children:["Příjmení ",t.jsx("span",{className:"text-red-500",children:"*"})]}),t.jsx("input",{value:a,onChange:n=>l(n.target.value),id:"surname",className:"w-full px-4 py-3 rounded-xl border border-slate-200 bg-slate-50 focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none transition-all",type:"text",required:!0,placeholder:"Novák"})]})]}),t.jsxs("div",{children:[t.jsxs("label",{className:"mb-1 block text-sm font-medium text-gray-700",htmlFor:"email",children:["Email ",t.jsx("span",{className:"text-red-500",children:"*"})]}),t.jsx("input",{value:m,onChange:n=>h(n.target.value),id:"email",className:"w-full px-4 py-3 rounded-xl border border-slate-200 bg-slate-50 focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none transition-all",type:"email",required:!0,placeholder:"jan.novak@email.cz"})]}),t.jsxs("div",{children:[t.jsxs("label",{className:"mb-1 block text-sm font-medium text-gray-700",htmlFor:"phone",children:["Telefon ",t.jsx("span",{className:"text-red-500",children:"*"})]}),t.jsx("input",{value:b,onChange:n=>p(n.target.value),id:"phone",className:"w-full px-4 py-3 rounded-xl border border-slate-200 bg-slate-50 focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none transition-all",type:"text",required:!0,placeholder:"+420 777 777 777"})]})]})]}),t.jsxs("div",{className:"py-6",children:[t.jsxs("div",{className:"mb-5 text-lg font-bold text-gray-900",children:[t.jsx("span",{className:"text-blue-600",children:"2."})," Zanechte svou zprávu"]}),t.jsx("div",{className:"space-y-4",children:t.jsxs("div",{children:[t.jsxs("label",{className:"mb-1 block text-sm font-medium text-gray-700",htmlFor:"description",children:["Zpráva ",t.jsx("span",{className:"text-red-500",children:"*"})]}),t.jsx("textarea",{value:u,onChange:n=>c(n.target.value),id:"description",className:"w-full px-4 py-3 rounded-xl border border-slate-200 bg-slate-50 focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none transition-all",rows:4,required:!0,placeholder:"Dobrý den, potřebuji pomoci s..."})]})}),t.jsx("div",{className:"mt-4",children:t.jsx(M,{termsTitle:e,triggerText:"Odesláním dotazu souhlasím se zpracováním osobních údajů.",children:s})}),t.jsx("button",{type:"submit",className:"w-full bg-blue-600 hover:bg-blue-700 text-white font-bold py-4 px-8 rounded-xl shadow-lg hover:shadow-xl transition-all duration-300 transform hover:-translate-y-1 mt-6 disabled:opacity-50 disabled:cursor-not-allowed",disabled:j||!C(),children:j?"Odesílám...":"Odeslat zprávu"}),E&&t.jsxs("div",{className:"flex items-center gap-3 text-green-700 mt-4 text-sm bg-green-50 p-4 rounded-xl border border-green-100",children:[t.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"shrink-0 text-green-500",children:[t.jsx("path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z"}),t.jsx("path",{d:"M8 12h8"}),t.jsx("path",{d:"M12 8v8"})]}),t.jsx("span",{children:"Děkuji za zanechání Vaší zprávy, odpovím Vám v nejbližší možné době."})]}),H&&t.jsxs("div",{className:"flex items-center gap-3 text-red-700 mt-4 text-sm bg-red-50 p-4 rounded-xl border border-red-100",children:[t.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"shrink-0 text-red-500",children:[t.jsx("path",{d:"M20.5 14.9A9 9 0 0 0 9.1 3.5"}),t.jsx("path",{d:"m2 2 20 20"}),t.jsx("path",{d:"M5.6 5.6C3 8.3 2.2 12.5 4 16l-2 6 6-2c3.4 1.8 7.6 1.1 10.3-1.7"})]}),t.jsx("span",{children:"Omlouváme se, ale došlo k problému při odesílání. Zkuste to prosím později nebo zavolejte."})]})]})]})})})}export{ie as default};
